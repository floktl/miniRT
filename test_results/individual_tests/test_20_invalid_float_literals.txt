=== Running Valgrind Memory Error Test ===
Scene: scenes/miniRT_samples/20_invalid_float_literals.rt
=========================================
Running valgrind on miniRT with scene: scenes/miniRT_samples/20_invalid_float_literals.rt

=== Valgrind Summary ===
Full output saved to: valgrind_output.txt
Checking for memory errors and leaks...
❌ DEFINITE LEAKS DETECTED!
==29982== 8 bytes in 1 blocks are definitely lost in loss record 1 of 4
==29982== 12 bytes in 1 blocks are definitely lost in loss record 2 of 4
==29982== 12 bytes in 1 blocks are definitely lost in loss record 3 of 4
==29982== 12 bytes in 1 blocks are definitely lost in loss record 4 of 4
==29982==    definitely lost: 44 bytes in 4 blocks
⚠️  INDIRECT LEAKS DETECTED!
==29982==    indirectly lost: 0 bytes in 0 blocks
⚠️  POSSIBLE LEAKS DETECTED!
==29982==      possibly lost: 0 bytes in 0 blocks
✅ No invalid reads detected
✅ No invalid writes detected
✅ No uninitialized values detected
✅ No conditional jumps on uninitialized values detected

=== Error Summary ===
Valgrind Error Summary:
==29982== ERROR SUMMARY: 5 errors from 5 contexts (suppressed: 0 from 0)
==29982== 
==29982== 1 errors in context 1 of 5:
==29982== Invalid free() / delete / delete[] / realloc()
==29982==    at 0x4867AD0: free (in /usr/libexec/valgrind/vgpreload_memcheck-arm64-linux.so)
==29982==    by 0x111B8B: parse_color_tokens (parse_tokens.c:74)
==29982==    by 0x114793: parse_cylinder_color (parse_primitive_utils3.c:40)
==29982==    by 0x111FF7: parse_cylinder (parse_primitives.c:92)
==29982==    by 0x113AAB: dispatch_and_return (parser_utils2.c:45)
==29982==    by 0x113E73: dispatch_parse (parser.c:33)
==29982==    by 0x113F13: parse_line (parser.c:54)
--
==29982== ERROR SUMMARY: 5 errors from 5 contexts (suppressed: 0 from 0)

=== Debug Information ===
For detailed error analysis, run:
  ./debug_error.sh valgrind_output.txt

Quick error summary:
- Invalid free detected in free_scene function
- Memory leak detected

=== Test Complete ===
