=== Running Valgrind Memory Error Test ===
Scene: scenes/miniRT_samples/08_invalid_color_range.rt
=========================================
Running valgrind on miniRT with scene: scenes/miniRT_samples/08_invalid_color_range.rt

=== Valgrind Summary ===
Full output saved to: valgrind_output.txt
Checking for memory errors and leaks...
✅ No definite leaks detected
✅ No indirect leaks detected
✅ No possible leaks detected
✅ No invalid reads detected
✅ No invalid writes detected
✅ No uninitialized values detected
✅ No conditional jumps on uninitialized values detected

=== Error Summary ===
Valgrind Error Summary:
==3262== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
==3262== 
==3262== 1 errors in context 1 of 1:
==3262== Invalid free() / delete / delete[] / realloc()
==3262==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==3262==    by 0x10EFA7: parse_color_tokens (parse_tokens.c:74)
==3262==    by 0x10DC23: parse_light_color (parse_light_utils.c:43)
==3262==    by 0x10DD9A: parse_light_data (parse_light_utils2.c:37)
==3262==    by 0x10DE50: parse_light_internal (parse_light_utils2.c:53)
==3262==    by 0x10E083: parse_light (parse_scene_elements.c:56)
==3262==    by 0x10EA3D: dispatch_and_return (parser_utils2.c:45)
--
==3262== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

=== Test Complete ===
❌ Valgrind FAILED (see valgrind_output.txt).
